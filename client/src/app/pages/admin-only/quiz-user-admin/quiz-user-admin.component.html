<h2>Danh s√°ch k·∫øt qu·∫£ quiz c·ªßa ng∆∞·ªùi d√πng</h2>

<div *ngIf="isLoading">ƒêang t·∫£i d·ªØ li·ªáu...</div>

<table
  *ngIf="!isLoading && allResults.length > 0"
  border="1"
  cellpadding="8"
  cellspacing="0"
>
  <thead>
    <tr>
      <th>STT</th>
      <th>Id user</th>
      <th>Ng√†y l√†m</th>
      <th>s·ªë c√¢u</th>
      <th>t·ªïng ƒëi·ªÉm</th>
      <th>Xem chi ti·∫øt</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of allResults; let i = index">
      <td>{{ i + 1 }}</td>
      <td>{{ item.idUser }}</td>
      <td>{{ item.dateDoQuiz | date: "short" }}</td>
      <td>{{ item.totalQuestions }}</td>
      <td>{{ item.totalScore }}</td>
      <td>
        <button (click)="openDetail(item.idUser, item.dateDoQuiz)">üëÅÔ∏è</button>
      </td>
    </tr>
  </tbody>
</table>

<!-- Modal hi·ªÉn th·ªã chi ti·∫øt -->
<div *ngIf="showDetailModal" class="modal">
  <h3>Chi ti·∫øt quiz c·ªßa user: {{ selectedUser }}</h3>
  <button (click)="closeDetail()">ƒê√≥ng</button>
  <div class="detail-quiz">
    <table *ngIf="quizzes.length > 0" border="1" cellpadding="5">
      <thead>
        <tr>
          <th>T√™n Quiz</th>
          <th>C√¢u h·ªèi</th>
          <th>ƒê√°p √°n ƒë√£ ch·ªçn</th>
          <th>ƒê√∫ng?</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let quiz of quizzes">
          <td>{{ quiz.quiz?.quizName || "N/A" }}</td>
          <td>{{ quiz.quiz?.question || "N/A" }}</td>
          <td>{{ quiz.chooseAnswer || "N/A" }}</td>
          <td>{{ quiz.result ? "‚úÖ" : "‚ùå" }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="quizzes.length === 0">Kh√¥ng c√≥ chi ti·∫øt quiz n√†o.</div>
</div>
